[["data-transformation.html", "Chapter 3 Data transformation 3.1 Remove Columns 3.2 Change Format of Variable Date 3.3 Extract reason of crashing from variable Event Descriptor 3.4 Convert to Factor Level", " Chapter 3 Data transformation 3.1 Remove Columns Here is the overview of columns information before cleaning. First, variable Date need to convert to class Date in format Year-Month-Day. Second, variable Event Descriptor will be convert into two new variables to narrow down the information contains in single variable. Finally, all variables under type character will be transformed as factor. ## tibble [881,617 x 14] (S3: tbl_df/tbl/data.frame) ## $ Year : num [1:881617] 2019 2019 2019 2019 2019 ... ## $ Crash Descriptor : chr [1:881617] &quot;Property Damage Accident&quot; &quot;Property Damage Accident&quot; &quot;Property Damage Accident&quot; &quot;Property Damage &amp; Injury Accident&quot; ... ## $ Time : &#39;hms&#39; num [1:881617] 17:14:00 22:08:00 14:50:00 22:50:00 ... ## ..- attr(*, &quot;units&quot;)= chr &quot;secs&quot; ## $ Date : chr [1:881617] &quot;12/31/2019&quot; &quot;12/31/2019&quot; &quot;12/31/2019&quot; &quot;12/31/2019&quot; ... ## $ Day of Week : chr [1:881617] &quot;Tuesday&quot; &quot;Tuesday&quot; &quot;Tuesday&quot; &quot;Tuesday&quot; ... ## $ Lighting Conditions : chr [1:881617] &quot;Dark-Road Unlighted&quot; &quot;Dark-Road Unlighted&quot; &quot;Daylight&quot; &quot;Dark-Road Lighted&quot; ... ## $ Collision Type Descriptor : chr [1:881617] &quot;OTHER&quot; &quot;SIDESWIPE&quot; &quot;OVERTAKING&quot; &quot;RIGHT ANGLE&quot; ... ## $ County Name : chr [1:881617] &quot;YATES&quot; &quot;JEFFERSON&quot; &quot;NASSAU&quot; &quot;SUFFOLK&quot; ... ## $ Road Descriptor : chr [1:881617] &quot;Straight and Level&quot; &quot;Straight and Level&quot; &quot;Straight and Level&quot; &quot;Straight and Level&quot; ... ## $ Weather Conditions : chr [1:881617] &quot;Snow&quot; &quot;Snow&quot; &quot;Cloudy&quot; &quot;Rain&quot; ... ## $ Traffic Control Device : chr [1:881617] &quot;None&quot; &quot;None&quot; &quot;Traffic Signal&quot; &quot;Stop Sign&quot; ... ## $ Road Surface Conditions : chr [1:881617] &quot;Wet&quot; &quot;Snow/Ice&quot; &quot;Dry&quot; &quot;Wet&quot; ... ## $ Event Descriptor : chr [1:881617] &quot;Deer&quot; &quot;Other Motor Vehicle, Collision With&quot; &quot;Other Motor Vehicle, Collision With&quot; &quot;Other Motor Vehicle, Collision With&quot; ... ## $ Number of Vehicles Involved: num [1:881617] 1 2 2 2 2 1 2 1 2 2 ... 3.2 Change Format of Variable Date Here is the view of variable Date before the transformation. ## [1] &quot;12/31/2019&quot; ## [1] &quot;character&quot; Here is the view of variable Date after the transformation. ## [1] &quot;2019-12-31&quot; ## [1] &quot;Date&quot; 3.3 Extract reason of crashing from variable Event Descriptor 3.3.1 Collision_Type Following it the current levels in Event Descriptor. For generalization, new variable Collision_Type is introduced to indicate the high-level collision type: Collision With Fixed Object, Collision With Unfixed Object (will be shortened as Collision With in the table), and Non-collision For generating new variable Collision_Type, two changes needed: 1. Deer can be included in Animal, Collision With 2. Other Pedestrian can be included in Other Pedestrian, Collision With ## [1] &quot;Animal, Collision With&quot; ## [2] &quot;Barrier, Collision With Fixed Object&quot; ## [3] &quot;Bicyclist, Collision With&quot; ## [4] &quot;Bridge Structure, Collision With Fixed Object&quot; ## [5] &quot;Building/Wall, Collision With Fixed Object&quot; ## [6] &quot;Crash Cushion, Collision With Fixed Object&quot; ## [7] &quot;Culver/Head Wall, Collision With Fixed Object&quot; ## [8] &quot;Curbing, Collision With Fixed Object&quot; ## [9] &quot;Deer&quot; ## [10] &quot;Earth Embankment/Rock Cut/Ditch, Collision With Fixed Object&quot; ## [11] &quot;Fence, Collision With Fixed Object&quot; ## [12] &quot;Fire Hydrant, Collision With Fixed Object&quot; ## [13] &quot;Fire/Explosion, Non-Collision&quot; ## [14] &quot;Guide Rail - End, Collision With Fixed Object&quot; ## [15] &quot;Guide Rail - Not At End, Collision With Fixed Object&quot; ## [16] &quot;In-Line Skater, Collision With&quot; ## [17] &quot;Light Support/Utility Pole, Collision With Fixed Object&quot; ## [18] &quot;Median - End, Collision With Fixed Object&quot; ## [19] &quot;Median - Not At End, Collision With Fixed Object&quot; ## [20] &quot;Other Fixed Object*, Collision With Fixed Object&quot; ## [21] &quot;Other Motor Vehicle, Collision With&quot; ## [22] &quot;Other Object (Not Fixed)*, Collision With&quot; ## [23] &quot;Other Pedestrian&quot; ## [24] &quot;Other*, Non-Collision&quot; ## [25] &quot;Overturned, Non-Collision&quot; ## [26] &quot;Pedestrian, Collision With&quot; ## [27] &quot;Railroad Train, Collision With&quot; ## [28] &quot;Ran Off Roadway Only, Non-Collision&quot; ## [29] &quot;Sign Post, Collision With Fixed Object&quot; ## [30] &quot;Snow Embankment, Collision With Fixed Object&quot; ## [31] &quot;Submersion, Non-Collision&quot; ## [32] &quot;Tree, Collision With Fixed Object&quot; After cleaning and extracting keywords from Event Descriptor, here are the levels for variable Collision_Type: ## [1] &quot; Collision With&quot; &quot; Collision With Fixed Object&quot; ## [3] &quot; Non-Collision&quot; 3.3.2 Collision_Detail Besides the general collision type information, Event Descriptor also told us the collision details, which will be stored in new variable Collision_Detail. Following is the view of collision details before data cleaning. ## [1] &quot;Animal&quot; &quot;Barrier&quot; ## [3] &quot;Bicyclist&quot; &quot;Bridge Structure&quot; ## [5] &quot;Building/Wall&quot; &quot;Crash Cushion&quot; ## [7] &quot;Culver/Head Wall&quot; &quot;Curbing&quot; ## [9] &quot;Earth Embankment/Rock Cut/Ditch&quot; &quot;Fence&quot; ## [11] &quot;Fire Hydrant&quot; &quot;Fire/Explosion&quot; ## [13] &quot;Guide Rail - End&quot; &quot;Guide Rail - Not At End&quot; ## [15] &quot;In-Line Skater&quot; &quot;Light Support/Utility Pole&quot; ## [17] &quot;Median - End&quot; &quot;Median - Not At End&quot; ## [19] &quot;Other Fixed Object*&quot; &quot;Other Motor Vehicle&quot; ## [21] &quot;Other Object (Not Fixed)*&quot; &quot;Other Pedestrian&quot; ## [23] &quot;Other*&quot; &quot;Overturned&quot; ## [25] &quot;Pedestrian&quot; &quot;Railroad Train&quot; ## [27] &quot;Ran Off Roadway Only&quot; &quot;Sign Post&quot; ## [29] &quot;Snow Embankment&quot; &quot;Submersion&quot; ## [31] &quot;Tree&quot; In the above categories, Other Pedestrian and Pedestrian are represented the same collision type, so they can combine into the same class Pedestrian. The following shows the final 30 levels in Collision_Detail. ## [1] &quot;Animal&quot; &quot;Barrier&quot; ## [3] &quot;Bicyclist&quot; &quot;Bridge Structure&quot; ## [5] &quot;Building/Wall&quot; &quot;Crash Cushion&quot; ## [7] &quot;Culver/Head Wall&quot; &quot;Curbing&quot; ## [9] &quot;Earth Embankment/Rock Cut/Ditch&quot; &quot;Fence&quot; ## [11] &quot;Fire Hydrant&quot; &quot;Fire/Explosion&quot; ## [13] &quot;Guide Rail - End&quot; &quot;Guide Rail - Not At End&quot; ## [15] &quot;In-Line Skater&quot; &quot;Light Support/Utility Pole&quot; ## [17] &quot;Median - End&quot; &quot;Median - Not At End&quot; ## [19] &quot;Other Fixed Object*&quot; &quot;Other Motor Vehicle&quot; ## [21] &quot;Other Object (Not Fixed)*&quot; &quot;Other*&quot; ## [23] &quot;Overturned&quot; &quot;Pedestrian&quot; ## [25] &quot;Railroad Train&quot; &quot;Ran Off Roadway Only&quot; ## [27] &quot;Sign Post&quot; &quot;Snow Embankment&quot; ## [29] &quot;Submersion&quot; &quot;Tree&quot; 3.4 Convert to Factor Level Finally, all the variable type convert to factor level for our further data analysis. Here is the table sumamary: ## tibble [881,617 x 16] (S3: tbl_df/tbl/data.frame) ## $ Year : num [1:881617] 2019 2019 2019 2019 2019 ... ## $ Crash Descriptor : Factor w/ 4 levels &quot;Fatal Accident&quot;,..: 4 4 4 3 3 4 4 3 4 4 ... ## $ Time : &#39;hms&#39; num [1:881617] 17:14:00 22:08:00 14:50:00 22:50:00 ... ## ..- attr(*, &quot;units&quot;)= chr &quot;secs&quot; ## $ Date : Date[1:881617], format: &quot;2019-12-31&quot; &quot;2019-12-31&quot; ... ## $ Day of Week : Factor w/ 7 levels &quot;Friday&quot;,&quot;Monday&quot;,..: 6 6 6 6 6 6 6 6 6 6 ... ## $ Lighting Conditions : Factor w/ 6 levels &quot;Dark-Road Lighted&quot;,..: 2 2 4 1 4 4 4 2 1 4 ... ## $ Collision Type Descriptor : Factor w/ 11 levels &quot;HEAD ON&quot;,&quot;LEFT TURN (0)&quot;,..: 4 10 5 7 6 4 6 4 7 6 ... ## $ County Name : Factor w/ 63 levels &quot;ALBANY&quot;,&quot;ALLEGANY&quot;,..: 63 23 30 52 36 32 32 61 55 8 ... ## $ Road Descriptor : Factor w/ 7 levels &quot;Curve and Grade&quot;,..: 5 5 5 5 5 5 5 1 4 5 ... ## $ Weather Conditions : Factor w/ 8 levels &quot;Clear&quot;,&quot;Cloudy&quot;,..: 7 7 2 5 1 7 2 5 1 2 ... ## $ Traffic Control Device : Factor w/ 19 levels &quot;Construction Work Area&quot;,..: 5 5 16 14 4 5 16 4 14 4 ... ## $ Road Surface Conditions : Factor w/ 8 levels &quot;Dry&quot;,&quot;Flooded Water&quot;,..: 8 6 1 8 1 6 8 8 1 1 ... ## $ Event Descriptor : Factor w/ 31 levels &quot;Animal, Collision With&quot;,..: 1 20 20 20 20 14 20 13 20 20 ... ## $ Number of Vehicles Involved: num [1:881617] 1 2 2 2 2 1 2 1 2 2 ... ## $ Collision_Type : Factor w/ 3 levels &quot; Collision With&quot;,..: 1 1 1 1 1 2 1 2 1 1 ... ## $ Collision_Detail : Factor w/ 30 levels &quot;Animal&quot;,&quot;Barrier&quot;,..: 1 20 20 20 20 14 20 13 20 20 ... "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
